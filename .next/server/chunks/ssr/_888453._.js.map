{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivarnycolaas/Documents/webdev/slowcinemaclub/lib/utils/url.ts"],"sourcesContent":["export function getSlugFromUrl(url: string): string {\n  // Extract the last part of the URL after the last forward slash\n  const parts = url.split('/');\n  const lastPart = parts[parts.length - 1];\n  return lastPart || '';\n}\n"],"names":[],"mappings":";;;AAAO,SAAS,eAAe,GAAW;IACxC,gEAAgE;IAChE,MAAM,QAAQ,IAAI,KAAK,CAAC;IACxB,MAAM,WAAW,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE;IACxC,OAAO,YAAY;AACrB"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivarnycolaas/Documents/webdev/slowcinemaclub/app/components/MovieCard.tsx"],"sourcesContent":["'use client';\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { getSlugFromUrl } from '@/lib/utils/url';\n\nexport interface Movie {\n  _id: string;\n  title: string;\n  imagepreviewurl: string;\n  director: string;\n  year: string;\n  description: string;\n  rating: number;\n  updatedAd: string;\n  url: string;\n  language: string;\n  duration: string;\n}\n\nexport function MovieCard({ movie, index }: { movie: Movie; index: number }) {\n  const slug = getSlugFromUrl(movie.url);\n\n  return (\n    <Link \n      href={`/reviews/${slug}`}\n      className=\"group block hover:opacity-95\"\n      aria-labelledby={`movie-title-${movie._id}`}\n      scroll={true}\n    >\n      <article className=\"space-y-4\" itemScope itemType=\"https://schema.org/Movie\">\n        <div className=\"aspect-[3/2] overflow-hidden rounded-lg bg-muted\">\n          <Image\n            src={movie.imagepreviewurl.replace('?w=600', '?w=1200')}\n            alt={`Movie still from ${movie.title} (${movie.year})`}\n            width={1200}\n            height={800}\n            className=\"object-cover w-full h-full transition-all duration-300 group-hover:scale-105 group-hover:brightness-90\"\n            loading={index < 6 ? \"eager\" : \"lazy\"}\n            sizes=\"(min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw\"\n          />\n        </div>\n        <div className=\"space-y-2\">\n          <h2 \n            id={`movie-title-${movie._id}`}\n            className=\"text-lg font-medium leading-snug tracking-tight group-hover:text-primary\"\n            itemProp=\"name\"\n          >\n            {movie.title}\n          </h2>\n          <div className=\"flex flex-col gap-1\">\n            <p className=\"text-sm font-medium text-muted-foreground\">\n              {movie.director}\n            </p>\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground/80\">\n              {movie.rating > 0 && (\n                <>\n                  <span className=\"flex items-center gap-1\">\n                    <span className=\"text-yellow-400\">★</span>\n                    <span>{movie.rating}</span>\n                  </span>\n                  <span className=\"text-muted-foreground/60\">•</span>\n                </>\n              )}\n              <span>{movie.duration} min</span>\n              <span className=\"text-muted-foreground/60\">•</span>\n              <span>{movie.year}</span>\n            </div>\n          </div>\n        </div>\n      </article>\n    </Link>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAoBO,SAAS,UAAU,EAAE,KAAK,EAAE,KAAK,EAAmC;IACzE,MAAM,OAAO,CAAA,GAAA,mHAAA,CAAA,iBAAc,AAAD,EAAE,MAAM,GAAG;IAErC,qBACE,8OAAC,4JAAA,CAAA,UAAI;QACH,MAAM,CAAC,SAAS,EAAE,MAAM;QACxB,WAAU;QACV,mBAAiB,CAAC,YAAY,EAAE,MAAM,GAAG,EAAE;QAC3C,QAAQ;kBAER,cAAA,8OAAC;YAAQ,WAAU;YAAY,SAAS;YAAC,UAAS;;8BAChD,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wBACJ,KAAK,MAAM,eAAe,CAAC,OAAO,CAAC,UAAU;wBAC7C,KAAK,CAAC,iBAAiB,EAAE,MAAM,KAAK,CAAC,EAAE,EAAE,MAAM,IAAI,CAAC,CAAC,CAAC;wBACtD,OAAO;wBACP,QAAQ;wBACR,WAAU;wBACV,SAAS,QAAQ,IAAI,UAAU;wBAC/B,OAAM;;;;;;;;;;;8BAGV,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,IAAI,CAAC,YAAY,EAAE,MAAM,GAAG,EAAE;4BAC9B,WAAU;4BACV,UAAS;sCAER,MAAM,KAAK;;;;;;sCAEd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CACV,MAAM,QAAQ;;;;;;8CAEjB,8OAAC;oCAAI,WAAU;;wCACZ,MAAM,MAAM,GAAG,mBACd;;8DACE,8OAAC;oDAAK,WAAU;;sEACd,8OAAC;4DAAK,WAAU;sEAAkB;;;;;;sEAClC,8OAAC;sEAAM,MAAM,MAAM;;;;;;;;;;;;8DAErB,8OAAC;oDAAK,WAAU;8DAA2B;;;;;;;;sDAG/C,8OAAC;;gDAAM,MAAM,QAAQ;gDAAC;;;;;;;sDACtB,8OAAC;4CAAK,WAAU;sDAA2B;;;;;;sDAC3C,8OAAC;sDAAM,MAAM,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/B"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivarnycolaas/Documents/webdev/slowcinemaclub/app/reviews/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { MovieCard, Movie } from \"@/app/components/MovieCard\";\nimport { ChevronDown } from 'lucide-react';\n\ntype SortOption = 'added' | 'title' | 'year' | 'length' | 'rating';\n\nconst sortOptions = [\n  { value: 'added', label: 'Added (newest first)' },\n  { value: 'title', label: 'Title (alphabetical)' },\n  { value: 'year', label: 'Year (newest first)' },\n  { value: 'length', label: 'Length (longest first)' },\n  { value: 'rating', label: 'Rating (highest first)' }\n];\n\nfunction MovieGrid({ movies, sortBy }: { movies: Movie[], sortBy: SortOption }) {\n  // Sort movies based on the selected option\n  const sortedMovies = [...movies].sort((a, b) => {\n    switch (sortBy) {\n      case 'title':\n        return a.title.localeCompare(b.title);\n      case 'year':\n        return parseInt(b.year) - parseInt(a.year);\n      case 'length':\n        return parseInt(b.duration) - parseInt(a.duration);\n      case 'rating':\n        return b.rating - a.rating;\n      case 'added':\n      default:\n        return new Date(b.updatedAd).getTime() - new Date(a.updatedAd).getTime();\n    }\n  });\n\n  return (\n    <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n      {sortedMovies.map((movie, index) => (\n        <MovieCard key={movie._id} movie={movie} index={index} />\n      ))}\n    </div>\n  );\n}\n\nexport default function ReviewsPage() {\n  const [movies, setMovies] = useState<Movie[]>([]);\n  const [sortBy, setSortBy] = useState<SortOption>('added');\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        const response = await fetch('/api/movies');\n        \n        if (!response.ok) {\n          throw new Error(`Error fetching movies: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        setMovies(data);\n        setIsLoading(false);\n      } catch (err) {\n        console.error('Failed to fetch movies:', err);\n        setError('Failed to load movies. Please try again later.');\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovies();\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsDropdownOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleSortChange = (option: SortOption) => {\n    setSortBy(option);\n    setIsDropdownOpen(false);\n  };\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-8\">\n        <h1 className=\"text-4xl font-serif\">Film Reviews</h1>\n        \n        <div className=\"relative\" ref={dropdownRef}>\n          <button\n            className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/15 transition-all border border-transparent hover:border-slate-200 dark:hover:border-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-300 dark:focus:ring-slate-600\"\n            onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n            aria-expanded={isDropdownOpen}\n            aria-haspopup=\"listbox\"\n            aria-controls=\"sort-options\"\n          >\n            <span>Sort: {sortOptions.find(option => option.value === sortBy)?.label}</span>\n            <ChevronDown className={`h-4 w-4 transition-transform duration-200 ${isDropdownOpen ? 'rotate-180' : ''}`} />\n          </button>\n          \n          {isDropdownOpen && (\n            <div \n              id=\"sort-options\"\n              role=\"listbox\"\n              className=\"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 z-10 overflow-hidden transform origin-top-right transition-all animate-in fade-in-50 zoom-in-95 duration-100\"\n            >\n              <div className=\"py-1\">\n                {sortOptions.map((option) => (\n                  <button\n                    key={option.value}\n                    className={`w-full text-left px-4 py-2.5 text-sm transition-colors ${sortBy === option.value ? 'bg-slate-100 dark:bg-slate-800 font-medium text-primary' : 'hover:bg-slate-50 dark:hover:bg-slate-800'}`}\n                    onClick={() => handleSortChange(option.value as SortOption)}\n                    role=\"option\"\n                    aria-selected={sortBy === option.value}\n                  >\n                    {option.label}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div className=\"flex justify-center p-12\">\n          <div className=\"animate-pulse\">Loading reviews...</div>\n        </div>\n      ) : error ? (\n        <div className=\"text-center p-8 text-red-500\">\n          <p>{error}</p>\n          <button \n            onClick={() => window.location.reload()}\n            className=\"mt-4 px-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-md text-sm hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors\"\n          >\n            Try Again\n          </button>\n        </div>\n      ) : (\n        <MovieGrid movies={movies} sortBy={sortBy} />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}